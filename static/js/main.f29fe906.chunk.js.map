{"version":3,"sources":["utils/firebase.js","utils/Auth.js","pages/Login/Login.js","pages/Register/Register.js","utils/PrivateRoute.js","App.js","index.js","pages/Register/Register.module.scss","pages/Login/Login.module.scss"],"names":["firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","AuthContext","createContext","AuthProvider","children","useState","currentUser","setCurrentUser","userDetails","setUserDetails","pending","setPending","sessionStorage","getItem","useEffect","db","firestore","fetchUser","email","a","userRef","collection","where","get","snapshot","userData","docs","map","doc","data","console","log","auth","onAuthStateChanged","user","checkUser","Provider","value","useStyles","makeStyles","theme","root","margin","spacing","withRouter","history","username","setUsername","password","setPassword","useContext","e","preventDefault","Firebase","signInWithEmailAndPassword","then","push","catch","err","alert","classes","className","styles","loginContainer","classNames","loginForm","noValidate","autoComplete","TextField","id","label","required","variant","onChange","target","type","Button","onClick","color","to","Register","QRCodeValue","setQRCodeValue","isQRCodeRequested","setIsQRCodeRequested","name","age","contact","address","gender","reasonForAdmission","state","setState","collectionRef","uid","onChangeInput","prev","registerContainer","placeholder","genderContainer","FormLabel","component","RadioGroup","aria-label","FormControlLabel","control","Radio","QRCodeContainer","signOut","PrivateRoute","RouteComponent","rest","render","routeProps","App","container","path","exact","Login","ReactDOM","document","getElementById","module","exports"],"mappings":"iUAiBAA,IAASC,cAZc,CACrBC,OAAQC,0CACRC,WAAYD,iCACZE,YAAaF,qDACbG,UAAWH,iBACXI,cAAeJ,6BACfK,kBAAmBL,eACnBM,MAAON,4CACPO,cAAeP,iBAMFH,QAAf,E,OCfaW,EAAcC,0BAEdC,EAAe,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAC7B,EAAsCC,mBAAS,MAA/C,mBAAOC,EAAP,KAAoBC,EAApB,KACA,EAAsCF,mBAAS,IAA/C,mBAAOG,EAAP,KAAoBC,EAApB,KACA,EAA8BJ,oBAAS,GAAvC,mBAAOK,EAAP,KAAgBC,EAAhB,KACyBC,eAAeC,QAAQ,eAiChD,OA/BAC,qBAAU,WACR,IAAMC,EAAKzB,EAAS0B,YACdC,EAAS,uCAAG,WAAOC,GAAP,mBAAAC,EAAA,6DACVC,EAAUL,EAAGM,WAAW,UAAUC,MAAM,QAAS,KAAMJ,GAD7C,SAEOE,EAAQG,MAFf,OAEVC,EAFU,OAGVC,EAAWD,EAASE,KAAKC,KAAI,SAACC,GAAD,sBAC9BA,EAAIC,WAETpB,EAAegB,EAAS,IACxBK,QAAQC,IAAIN,EAAS,IAErBd,GAAW,GATK,2CAAH,uDAWA,uCAAG,sBAAAQ,EAAA,sEACV7B,EAAS0C,OAAOC,oBAAmB,SAACC,GACxC3B,EAAe2B,GACXA,EAAMjB,EAAUiB,EAAKhB,OACpBP,GAAW,MAJF,2CAAH,qDAOfwB,KACC,CAAC7B,IAWF,cAACL,EAAYmC,SAAb,CACEC,MAAO,CACL/B,cACAE,cACAE,WAJJ,SAOGN,KCzCDkC,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJ,QAAS,CACPC,OAAQF,EAAMG,QAAQ,SA2DbC,eAvDD,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACf,EAAgCxC,mBAAS,IAAzC,mBAAOyC,EAAP,KAAiBC,EAAjB,KACA,EAAgC1C,mBAAS,IAAzC,mBAAO2C,EAAP,KAAiBC,EAAjB,KACwBC,qBAAWjD,GAA3BO,YAHqB,4CAI7B,WAAwB2C,GAAxB,SAAAhC,EAAA,6DACEgC,EAAEC,iBADJ,SAEQC,EAASrB,OACZsB,2BAA2BR,EAAUE,GACrCO,MAAK,WAEJV,EAAQW,KAAK,QAEdC,OAAM,SAACC,GACNC,MAAMD,MATZ,4CAJ6B,sBAiB7B,IAAME,EAAUtB,IAEhB,OACE,sBAAKuB,UAAWC,IAAOC,eAAvB,UACE,uBACEF,UAAWG,IAAWJ,EAAQnB,KAAMqB,IAAOG,WAC3CC,YAAU,EACVC,aAAa,MAHf,UAKE,cAACC,EAAA,EAAD,CACEC,GAAG,WACHC,MAAM,WACNC,UAAQ,EACRC,QAAQ,WACRC,SAAU,SAACtB,GAAD,OAAOJ,EAAYI,EAAEuB,OAAOrC,UAExC,cAAC+B,EAAA,EAAD,CACEG,UAAQ,EACRF,GAAG,WACHC,MAAM,WACNK,KAAK,WACLH,QAAQ,WACRC,SAAU,SAACtB,GAAD,OAAOF,EAAYE,EAAEuB,OAAOrC,aAG1C,cAACuC,EAAA,EAAD,CACED,KAAK,SACLE,QA5CuB,4CA6CvBL,QAAQ,YACRM,MAAM,UAJR,mBAQA,cAAC,IAAD,CAAMC,GAAG,IAAT,2D,8ECmGSC,EAzJE,WACf,MAAsC3E,mBAAS,IAA/C,mBAAO4E,EAAP,KAAoBC,EAApB,KACA,EAAkD7E,oBAAS,GAA3D,mBAAO8E,EAAP,KAA0BC,EAA1B,KACA,EAA0B/E,mBAAS,CACjCgF,KAAM,GACNC,IAAK,GACLpE,MAAO,GACPqE,QAAS,GACTC,QAAS,GACTC,OAAQ,GACRC,mBAAoB,KAPtB,mBAAOC,EAAP,KAAcC,EAAd,KAHqB,4CAYrB,WAA0BzC,GAA1B,mBAAAhC,EAAA,6DACEgC,EAAEC,iBACIrC,EAAKsC,EAASrC,YACd6E,EAAgB9E,EAAGM,WAAW,YAHtC,SAIoBwE,EAAcjE,MAAMyC,GAJxC,OAIQyB,EAJR,OAKEV,GAAqB,GACrBF,EAAeS,EAAMzE,MAAQ,IAAM4E,GANrC,4CAZqB,sBAoBrB,SAASC,EAAc5C,GACrB,GAAsB,UAAlBA,EAAEuB,OAAOC,KACXiB,GAAS,SAACI,GAAD,mBAAC,eAAeA,GAAhB,IAAsBP,OAAQtC,EAAEuB,OAAOrC,eAC3C,CACL,MAAsBc,EAAEuB,OAAhBL,EAAR,EAAQA,GAAIhC,EAAZ,EAAYA,MACZuD,GAAS,SAACI,GAAD,mBAAC,eACLA,GADI,kBAEN3B,EAAKhC,QAIZ,IAOMuB,EAPYrB,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJ,QAAS,CACPC,OAAQF,EAAMG,QAAQ,QAIZL,GAEhB,OACE,sBAAKuB,UAAWC,IAAOmC,kBAAvB,UACE,sBAAKpC,UAAU,gBAAf,UACE,uBAAMA,UAAWD,EAAQnB,KAAMyB,YAAU,EAACC,aAAa,MAAvD,UACE,cAACC,EAAA,EAAD,CACEC,GAAG,OACHI,SAAUsB,EACVzB,MAAM,OACNC,UAAQ,EACRC,QAAQ,aAEV,cAACJ,EAAA,EAAD,CACEG,UAAQ,EACRF,GAAG,MACHC,MAAM,MACNG,SAAUsB,EACVpB,KAAK,SACLH,QAAQ,aAEV,cAACJ,EAAA,EAAD,CACEC,GAAG,QACHE,UAAQ,EACRE,SAAUsB,EACVzB,MAAM,QACNK,KAAK,QACLH,QAAQ,aAGV,cAACJ,EAAA,EAAD,CACEG,UAAQ,EACRF,GAAG,UACHI,SAAUsB,EACVpB,KAAK,MACLL,MAAM,UACNE,QAAQ,aAEV,cAACJ,EAAA,EAAD,CACEC,GAAG,mBACHM,KAAK,MACLF,SAAUsB,EACVzB,MAAM,oBACNE,QAAQ,WACR0B,YAAY,eAEd,cAAC9B,EAAA,EAAD,CACEG,UAAQ,EACRF,GAAG,UACHC,MAAM,UACNG,SAAUsB,EACVvB,QAAQ,aAEV,sBAAKX,UAAWC,IAAOqC,gBAAvB,UACE,cAACC,EAAA,EAAD,CAAWC,UAAU,SAArB,oBACA,eAACC,EAAA,EAAD,CAAYC,aAAW,SAASlB,KAAK,UAArC,UACE,cAACmB,EAAA,EAAD,CACEnE,MAAM,OACNgC,GAAG,SACHI,SAAUsB,EACVU,QAAS,cAACC,EAAA,EAAD,IACTpC,MAAM,SAER,cAACkC,EAAA,EAAD,CACEnE,MAAM,SACNgC,GAAG,SACHI,SAAUsB,EACVU,QAAS,cAACC,EAAA,EAAD,IACTpC,MAAM,WAER,cAACkC,EAAA,EAAD,CACEnE,MAAM,QACNgC,GAAG,SACHI,SAAUsB,EACVU,QAAS,cAACC,EAAA,EAAD,IACTpC,MAAM,gBAIZ,cAACF,EAAA,EAAD,CACEC,GAAG,SACHI,SAAUsB,EACVzB,MAAM,uBACNC,UAAQ,EACRC,QAAQ,gBAGZ,cAACI,EAAA,EAAD,CAAQC,QA7HO,4CA6HcL,QAAQ,YAAYM,MAAM,UAAvD,sBAGA,uBACA,cAAC,IAAD,CAAMC,GAAG,SAAT,iDAA6D,OAG/D,sBAAKlB,UAAWC,IAAO6C,gBAAvB,UACE,qBAAK9C,UAAU,SAAf,SACGsB,EACC,cAAC,IAAD,CAAQ9C,MAAO4C,IAEf,uEAIJ,cAACL,EAAA,EAAD,CACEC,QAAS,kBAAMxB,EAASrB,OAAO4E,WAC/BpC,QAAQ,YACRM,MAAM,UAHR,2B,wBCtIO+B,EAhBM,SAAC,GAA4C,IAA/BC,EAA8B,EAAzCT,UAA8BU,EAAW,iBACvDzG,EAAgB4C,qBAAWjD,GAA3BK,YACR,OACE,cAAC,IAAD,2BACMyG,GADN,IAEEC,OAAQ,SAACC,GAAD,OACJ3G,EACA,cAACwG,EAAD,eAAoBG,IAEpB,cAAC,IAAD,CAAUlC,GAAI,gBCUTmC,EAfH,WACV,OACE,cAAC,EAAD,UACE,qBAAKrD,UAAWC,IAAOqD,UAAvB,SACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,EAAD,CAAcC,KAAK,IAAIC,OAAK,EAAChB,UAAWrB,IACxC,cAAC,IAAD,CAAOoC,KAAK,SAASC,OAAK,EAAChB,UAAWiB,cCXlDC,IAASP,OAAO,cAAC,EAAD,IAASQ,SAASC,eAAe,U,mBCHjDC,EAAOC,QAAU,CAAC,kBAAoB,oCAAoC,gBAAkB,oC,mBCA5FD,EAAOC,QAAU,CAAC,eAAiB,gC","file":"static/js/main.f29fe906.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport \"firebase/database\";\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\n  measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID,\n};\n\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nexport default firebase;\n","import React, { createContext, useState, useEffect } from \"react\";\nimport firebase from \"./firebase\";\n// import styles from \"./Auth.module.css\";\n\nexport const AuthContext = createContext();\n\nexport const AuthProvider = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState(null);\n  const [userDetails, setUserDetails] = useState({});\n  const [pending, setPending] = useState(true);\n  let sessionUserDetails = sessionStorage.getItem(\"userDetails\");\n\n  useEffect(() => {\n    const db = firebase.firestore();\n    const fetchUser = async (email) => {\n      const userRef = db.collection(\"admins\").where(\"email\", \"==\", email);\n      const snapshot = await userRef.get();\n      const userData = snapshot.docs.map((doc) => ({\n        ...doc.data(),\n      }));\n      setUserDetails(userData[0]);\n      console.log(userData[0]);\n\n      setPending(false);\n    };\n    const checkUser = async () => {\n      await firebase.auth().onAuthStateChanged((user) => {\n        setCurrentUser(user);\n        if (user) fetchUser(user.email);\n        else setPending(false);\n      });\n    };\n    checkUser();\n  }, [currentUser]);\n\n  // if (pending) {\n  //   return (\n  //     <div className={styles.container}>\n  //       <CircularProgress className={styles.circularProgress} />\n  //     </div>\n  //   );\n  // }\n\n  return (\n    <AuthContext.Provider\n      value={{\n        currentUser,\n        userDetails,\n        pending,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n};\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport styles from \"./Login.module.scss\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport classNames from \"classnames\";\nimport { AuthContext } from \"../../utils/Auth\";\nimport Firebase from \"../../utils/firebase\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"& > *\": {\n      margin: theme.spacing(1),\n    },\n  },\n}));\nconst Login = ({ history }) => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const { userDetails } = useContext(AuthContext);\n  async function onSubmit(e) {\n    e.preventDefault();\n    await Firebase.auth()\n      .signInWithEmailAndPassword(username, password)\n      .then(() => {\n        //setBtnDisabled(false);\n        history.push(\"/\");\n      })\n      .catch((err) => {\n        alert(err);\n        //setBtnDisabled(false);\n      });\n  }\n  const classes = useStyles();\n\n  return (\n    <div className={styles.loginContainer}>\n      <form\n        className={classNames(classes.root, styles.loginForm)}\n        noValidate\n        autoComplete=\"off\"\n      >\n        <TextField\n          id=\"username\"\n          label=\"Username\"\n          required\n          variant=\"outlined\"\n          onChange={(e) => setUsername(e.target.value)}\n        />\n        <TextField\n          required\n          id=\"password\"\n          label=\"Password\"\n          type=\"password\"\n          variant=\"outlined\"\n          onChange={(e) => setPassword(e.target.value)}\n        />\n      </form>\n      <Button\n        type=\"submit\"\n        onClick={onSubmit}\n        variant=\"contained\"\n        color=\"primary\"\n      >\n        Login\n      </Button>\n      <Link to=\"/\">Want to register a Patient ? Click here</Link>\n    </div>\n  );\n};\n\nexport default withRouter(Login);\n\n// Email : admin@covidhelp.in\n// Password : admin123\n","import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styles from \"./Register.module.scss\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Button from \"@material-ui/core/Button\";\nimport Firebase from \"../../utils/firebase\";\nimport QRCode from \"qrcode.react\";\n\nconst Register = () => {\n  const [QRCodeValue, setQRCodeValue] = useState(\"\");\n  const [isQRCodeRequested, setIsQRCodeRequested] = useState(false);\n  const [state, setState] = useState({\n    name: \"\",\n    age: \"\",\n    email: \"\",\n    contact: \"\",\n    address: \"\",\n    gender: \"\",\n    reasonForAdmission: \"\",\n  });\n  async function onRegister(e) {\n    e.preventDefault();\n    const db = Firebase.firestore();\n    const collectionRef = db.collection(\"patients\");\n    const uid = await collectionRef.doc().id;\n    setIsQRCodeRequested(true);\n    setQRCodeValue(state.email + \"-\" + uid);\n  }\n  function onChangeInput(e) {\n    if (e.target.type === \"radio\") {\n      setState((prev) => ({ ...prev, gender: e.target.value }));\n    } else {\n      const { id, value } = e.target;\n      setState((prev) => ({\n        ...prev,\n        [id]: value,\n      }));\n    }\n  }\n  const useStyles = makeStyles((theme) => ({\n    root: {\n      \"& > *\": {\n        margin: theme.spacing(1),\n      },\n    },\n  }));\n  const classes = useStyles();\n\n  return (\n    <div className={styles.registerContainer}>\n      <div className=\"formContainer\">\n        <form className={classes.root} noValidate autoComplete=\"off\">\n          <TextField\n            id=\"name\"\n            onChange={onChangeInput}\n            label=\"Name\"\n            required\n            variant=\"outlined\"\n          />\n          <TextField\n            required\n            id=\"age\"\n            label=\"Age\"\n            onChange={onChangeInput}\n            type=\"number\"\n            variant=\"outlined\"\n          />\n          <TextField\n            id=\"email\"\n            required\n            onChange={onChangeInput}\n            label=\"Email\"\n            type=\"Email\"\n            variant=\"outlined\"\n          />\n\n          <TextField\n            required\n            id=\"contact\"\n            onChange={onChangeInput}\n            type=\"tel\"\n            label=\"Contact\"\n            variant=\"outlined\"\n          />\n          <TextField\n            id=\"alternateContact\"\n            type=\"tel\"\n            onChange={onChangeInput}\n            label=\"Alternate Contact\"\n            variant=\"outlined\"\n            placeholder=\"(Optional)\"\n          />\n          <TextField\n            required\n            id=\"address\"\n            label=\"Address\"\n            onChange={onChangeInput}\n            variant=\"outlined\"\n          />\n          <div className={styles.genderContainer}>\n            <FormLabel component=\"legend\">Gender</FormLabel>\n            <RadioGroup aria-label=\"gender\" name=\"gender1\">\n              <FormControlLabel\n                value=\"male\"\n                id=\"gender\"\n                onChange={onChangeInput}\n                control={<Radio />}\n                label=\"Male\"\n              />\n              <FormControlLabel\n                value=\"female\"\n                id=\"gender\"\n                onChange={onChangeInput}\n                control={<Radio />}\n                label=\"Female\"\n              />\n              <FormControlLabel\n                value=\"other\"\n                id=\"gender\"\n                onChange={onChangeInput}\n                control={<Radio />}\n                label=\"Other\"\n              />\n            </RadioGroup>\n          </div>\n          <TextField\n            id=\"reason\"\n            onChange={onChangeInput}\n            label=\"Reason For Admission\"\n            required\n            variant=\"outlined\"\n          />\n        </form>\n        <Button onClick={onRegister} variant=\"contained\" color=\"primary\">\n          Register\n        </Button>\n        <br />\n        <Link to=\"/login\">Are you a doctor/nurse ? Click here</Link>{\" \"}\n      </div>\n\n      <div className={styles.QRCodeContainer}>\n        <div className=\"QRCode\">\n          {isQRCodeRequested ? (\n            <QRCode value={QRCodeValue} />\n          ) : (\n            <h3>Your Qr Code will be displayed here</h3>\n          )}\n        </div>\n\n        <Button\n          onClick={() => Firebase.auth().signOut()}\n          variant=\"contained\"\n          color=\"primary\"\n        >\n          Logout\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;\n","import React, { useContext } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { AuthContext } from \"./Auth\";\n\nconst PrivateRoute = ({ component: RouteComponent, ...rest }) => {\n  const { currentUser } = useContext(AuthContext);\n  return (\n    <Route\n      {...rest}\n      render={(routeProps) =>\n        !!currentUser ? (\n          <RouteComponent {...routeProps} />\n        ) : (\n          <Redirect to={\"/login\"} />\n        )\n      }\n    />\n  );\n};\n\nexport default PrivateRoute;\n","import React from \"react\";\nimport styles from \"./App.module.scss\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Login from \"./pages/Login/Login\";\nimport Register from \"./pages/Register/Register\";\nimport { AuthProvider } from \"./utils/Auth\";\nimport PrivateRoute from \"./utils/PrivateRoute\";\n\nconst App = () => {\n  return (\n    <AuthProvider>\n      <div className={styles.container}>\n        <Router>\n          <Switch>\n            <PrivateRoute path=\"/\" exact component={Register} />\n            <Route path=\"/login\" exact component={Login} />\n          </Switch>\n        </Router>\n      </div>\n    </AuthProvider>\n  );\n};\n\nexport default App;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"registerContainer\":\"Register_registerContainer__1gLtW\",\"QRCodeContainer\":\"Register_QRCodeContainer__2y5WL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginContainer\":\"Login_loginContainer__H_MVx\"};"],"sourceRoot":""}